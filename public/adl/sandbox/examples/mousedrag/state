[{"extends":"box2.vwf","name":"98a8728f-3bbf-bc50-9af8-b4791c0eb5a0","source":"vwf/model/threejs/box.js","type":"subDriver/threejs","properties":{"materialDef":{"shininess":15,"alpha":1,"ambient":{"r":1,"g":1,"b":1},"color":{"r":1,"g":1,"b":1,"a":1},"emit":{"r":0,"g":0,"b":0},"reflect":0.8,"shadeless":false,"shadow":true,"specularColor":{"r":0.5773502691896258,"g":0.5773502691896258,"b":0.5773502691896258},"specularLevel":1,"layers":[{"alpha":1,"blendMode":0,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"rot":0,"scalex":1,"scaley":1,"src":"checker.jpg"}],"morphTargets":false,"skinning":false,"type":"phong"},"size":[1,1,1],"translation":[1.128857970237732,-1.2936784029006958,1.9880521297454834],"scale":[1,1,1],"rotation":[1,0,0,0],"owner":"Rob","texture":"checker.jpg","type":"Primitive","tempid":"","DisplayName":"box1","transform":[1,0,0,0,0,1,0,0,0,0,1,0,1.128857970237732,-1.2936784029006958,1.9880521297454834,1],"quaternion":[0,0,0,1],"leftMouseDown":false,"lastMouseEvent":{"button":"left","clicks":1,"buttons":{"left":true,"middle":false,"right":false},"modifiers":{"alt":false,"ctrl":false,"shift":false,"meta":false},"position":[0.55125,0.2538955087076077],"screenPosition":[882,277]}},"events":{"pointerUp":{"parameters":["   eventData","   nodeData   "],"body":"  \n  this.leftMouseDown = false;"},"pointerDown":{"parameters":["   eventData","   nodeData   "],"body":"  \n  this.leftMouseDown = true;\n      this.lastMouseEvent = eventData;"},"pointerMove":{"parameters":["   eventData","   nodeData   "],"body":"  \n  if (this.leftMouseDown)\n      {\n          if (this.lastMouseEvent)\n          {\n              var offsetx = this.lastMouseEvent.screenPosition[0] - eventData.screenPosition[0];\n              var offsety = this.lastMouseEvent.screenPosition[1] - eventData.screenPosition[1];\n              var viewmatrix = this.Scene.camera.worldTransform.internal_val;\n              var inverseView = goog.vec.Mat4.create();\n              goog.vec.Mat4.invert(viewmatrix, inverseView);\n\n              var viewspace = goog.vec.Mat4.multVec3(viewmatrix, [-offsetx, 1, offsety], []);\n              console.log(viewspace);\n              this.transformAPI.move(viewspace[0] / (30 * nodeData.distance), viewspace[1] / (30 * nodeData.distance), viewspace[2] / (30 * nodeData.distance), this.transformAPI.COORDINATES.PARENT);\n\n          }\n          this.lastMouseEvent = eventData;\n\n      }"}}},{"DisplayName":null,"placemarks":{"Origin":[0,0,0]},"navmode":"none","sunColor":[1,1,1],"sunDirection":[0,0,1],"sunIntensity":0.5,"ambientColor":[0.35,0.35,0.35],"fogColor":[155,155,155],"fogNear":100,"fogFar":1000,"fogType":0,"fogDensity":0.005,"fogVFalloff":1.3,"fogVFalloffStart":0,"skyColorBlend":0,"skyFogBlend":0,"skyApexColor":[0,0.5,1],"skyHorizonColor":[0,0.5,1],"vAtmosphereDensity":0.0005,"owner":"Rob","type":"scene","publishSettings":{"singlePlayer":false,"camera":"","allowAnonymous":false,"createAvatar":false,"allowTools":false}}]